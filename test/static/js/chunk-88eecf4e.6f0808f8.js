(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-88eecf4e"],{"02d9":function(t,e,n){"use strict";n("debd")},"06f0":function(t,e,n){"use strict";n("c503")},"1ebd0":function(t,e,n){"use strict";n("2642")},2642:function(t,e,n){},"34d5":function(t,e,n){"use strict";n("cbec")},5333:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container app-w-100per app-bgc-f1f1f1",attrs:{id:"yingxing"}},[n("YhcWidgetLineMark"),n("YhcHeader",{staticClass:"work-header app-w-100per",attrs:{id:"work-header"}},[n("div",{staticClass:"app-fx-fcc",attrs:{slot:"center"},slot:"center"},[n("el-dropdown",{on:{command:t.preProjectInfoChange}},[n("span",{staticClass:"app-cur-pt"},[t._v(" 显示比例: "+t._s(t.projectInfo.sizeValue)+" % "),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.projectInfo.sizeOptions,(function(e,i){return n("el-dropdown-item",{key:"dropdown-"+i,attrs:{command:e.value}},[t._v(" "+t._s(e.value)+" ")])})),1)],1)],1)]),n("div",{staticClass:"work-wapper app-pdt-24 app-pdb-24 app-mgt-80",attrs:{id:"work-wapper"}},[n("div",{staticClass:"work-container",style:t.workContainerStyle,attrs:{id:"work-container"}},[n("YhcWorkContainer",{attrs:{pageType:"edit",currColItem:t.currColItem,componentList:t.componentList},on:{tapColItem:t.setCurrColItem},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.colModel;return[i.children?[t._l(i.children,(function(e){return["base"===e.classify?n("YhcBaseWidgetContent",{key:e.uid,ref:e.uid,refInFor:!0,attrs:{options:e,pageType:"edit"},on:{optionsChange:t.setCurrItem},nativeOn:{mouseenter:function(n){return t.mouseEnterWidget(e.uid)},mouseleave:function(e){return t.mouseLeaveWidget(e)},click:function(n){return n.stopPropagation(),t.setCurrItem(e.uid,"tap")}}}):t._e()]}))]:t._e()]}}])})],1)]),n("div",{staticClass:"left-ctrl app-bgc-ffffff app-pdb-16"},[n("YhcProjectNav",{attrs:{navList:t.leftNavList},on:{tapItem:t.tapLeftNavItem},model:{value:t.leftNavActiveItem,callback:function(e){t.leftNavActiveItem=e},expression:"leftNavActiveItem"}}),n("div",{directives:[{name:"show",rawName:"v-show",value:"概况"===t.leftNavActiveItem,expression:"leftNavActiveItem === '概况'"}],staticClass:"project-box app-mga-16"},[n("el-button",{staticClass:"app-mgt-8",attrs:{type:"danger"},on:{click:t.clearWork}},[t._v("清空画布")]),n("br"),n("el-button",{staticClass:"app-mgt-8",attrs:{type:"warning"},on:{click:t.exportTelp}},[t._v("导出模板")]),n("br"),n("el-upload",{attrs:{"auto-upload":!1,"show-file-list":!1,action:"","on-change":t.importTelp}},[n("el-button",{staticClass:"app-mgt-8",attrs:{type:"success"}},[t._v("导入模板")])],1),n("br"),n("el-button",{staticClass:"app-mgt-8",attrs:{type:"primary"},on:{click:t.openNewWindow}},[t._v("实时预览")]),n("YhcLabelInput",{attrs:{type:"textarea",label:"项目名称"},model:{value:t.projectInfo.name,callback:function(e){t.$set(t.projectInfo,"name",e)},expression:"projectInfo.name"}}),n("YhcLabelInput",{attrs:{onlyRead:"",label:"画布宽度"},model:{value:t.projectInfo.width,callback:function(e){t.$set(t.projectInfo,"width",e)},expression:"projectInfo.width"}}),n("YhcLabelInput",{attrs:{label:"画布高度",targetKey:"height"},on:{propItemChange:t.projectInfoChange},model:{value:t.projectInfo.height,callback:function(e){t.$set(t.projectInfo,"height",e)},expression:"projectInfo.height"}}),n("YhcLabelColorPicker",{attrs:{label:"画布颜色"},model:{value:t.projectInfo.layoutColor,callback:function(e){t.$set(t.projectInfo,"layoutColor",e)},expression:"projectInfo.layoutColor"}}),n("YhcLabelInput",{attrs:{type:"textarea",label:"项目备注"},model:{value:t.projectInfo.noteMsg,callback:function(e){t.$set(t.projectInfo,"noteMsg",e)},expression:"projectInfo.noteMsg"}}),n("YhcLabelUpload",{attrs:{label:"项目封面",componentMode:"img"},model:{value:t.projectInfo.cover.mediaUrl,callback:function(e){t.$set(t.projectInfo.cover,"mediaUrl",e)},expression:"projectInfo.cover.mediaUrl"}})],1),"容器"===t.leftNavActiveItem?[n("div",{staticClass:"app-fz-16 app-mga-16"},[t._v("基础容器")]),n("div",{staticClass:"app-mga-16 app-fx-ffsc app-fx-wrap app-bdr-1-s-e6e6e6 app-bdb-1-s-e6e6e6"},t._l(t.baseContainerList,(function(e,i){return n("div",{key:"baseContainerList-"+i,staticClass:"item app-fx-fcc app-fx-direct-c app-fz-14 app-bdt-1-s-e6e6e6 app-bdl-1-s-e6e6e6 app-h-70 app-cur-pt",on:{click:function(n){return t.createContainer(e)}}},[n("i",{staticClass:"app-fz-18",class:["iconfont",e.icon]}),e.label.length>5?n("el-tooltip",{attrs:{content:e.label}},[n("div",{staticClass:"app-mgt-8 component-label app-w-90per app-fz-12"},[t._v(" "+t._s(e.label)+" ")])]):n("div",{staticClass:"app-mgt-8 component-label app-w-90per app-fz-12"},[t._v(" "+t._s(e.label)+" ")])],1)})),0)]:t._e(),"组件"===t.leftNavActiveItem?[n("div",{staticClass:"app-fz-16 app-mga-16"},[t._v("基础组件")]),n("div",{staticClass:"app-mga-16 app-fx-ffsc app-fx-wrap app-bdr-1-s-e6e6e6 app-bdb-1-s-e6e6e6"},t._l(t.baseWidgetList,(function(e,i){return n("div",{key:"baseWidgetList-"+i,staticClass:"item app-fx-fcc app-fx-direct-c app-fz-14 app-bdt-1-s-e6e6e6 app-bdl-1-s-e6e6e6 app-h-70 app-cur-pt",on:{click:function(n){return t.createWidget(e)}}},[n("i",{staticClass:"app-fz-18",class:["iconfont",e.icon]}),e.label.length>5?n("el-tooltip",{attrs:{content:e.label}},[n("div",{staticClass:"app-mgt-8 component-label app-w-90per app-fz-12"},[t._v(" "+t._s(e.label)+" ")])]):n("div",{staticClass:"app-mgt-8 component-label app-w-90per app-fz-12"},[t._v(" "+t._s(e.label)+" ")])],1)})),0),n("div",{staticClass:"app-fz-16 app-mga-16"},[t._v("业务组件")]),n("div",{staticClass:"app-mga-16 app-fx-ffsc app-fx-wrap app-bdr-1-s-e6e6e6 app-bdb-1-s-e6e6e6"},t._l(t.vocationalWidgetList,(function(e,i){return n("div",{key:"vocationalWidgetList-"+i,staticClass:"item app-fx-fcc app-fx-direct-c app-fz-14 app-bdt-1-s-e6e6e6 app-bdl-1-s-e6e6e6 app-h-70 app-cur-pt",on:{click:function(n){return t.createWidget(e)}}},[n("i",{staticClass:"app-fz-18",class:["iconfont",e.icon]}),e.label.length>5?n("el-tooltip",{attrs:{content:e.label}},[n("div",{staticClass:"app-mgt-8 component-label app-w-90per app-fz-12"},[t._v(" "+t._s(e.label)+" ")])]):n("div",{staticClass:"app-mgt-8 component-label app-w-90per app-fz-12"},[t._v(" "+t._s(e.label)+" ")])],1)})),0)]:t._e()],2),t.currItem?n("div",{staticClass:"right-ctrl app-pdb-16 app-bgc-ffffff"},[n("YhcProjectNav",{attrs:{navList:t.rightNavList},on:{tapItem:t.tapRightNavItem},model:{value:t.rightNavActiveItem,callback:function(e){t.rightNavActiveItem=e},expression:"rightNavActiveItem"}}),n("div",{staticClass:"param-list app-pdb-16 app-mga-24"},["参数"==t.rightNavActiveItem?n("YhcAlignment",{on:{tapItem:t.setAlignment}}):t._e(),t._l("参数"==t.rightNavActiveItem?t.canControlList:t.canFieldList,(function(e,i){return n("Yhc"+e.componentName,{key:e.key+i,ref:"LabelUpload"===e.componentName?"YhcLabelUpload":null,refInFor:!0,tag:"component",attrs:{value:t.getPropItemValue(e.key,t.currItem),type:e.inputType,label:e.label,index:i,popover:e.popover,fileType:e.fileType,selectOption:e.selectOption,targetKey:e.key},on:{propItemChange:t.setPropItemValue}})})),"参数"==t.rightNavActiveItem?n("el-button",{staticClass:"app-mgt-8",attrs:{type:"danger"},on:{click:t.delWidget}},[t._v(" 删除组件 ")]):t._e()],2)],1):t._e(),null==t.currItem&&t.currColItem?n("div",{staticClass:"right-ctrl app-pdb-16 app-bgc-ffffff"},[n("div",{staticClass:"param-list app-pdb-16 app-mga-24"},[n("YhcLabelInput",{attrs:{type:"number",label:"容器高度"},model:{value:t.currContainer.height,callback:function(e){t.$set(t.currContainer,"height",e)},expression:"currContainer.height"}}),n("el-button",{staticClass:"app-mgt-8",attrs:{type:"danger"},on:{click:t.delColItem}},[t._v(" 删除容器 ")])],1)]):t._e(),t.currItemElMultiple.length>1&&t.currItemMultiple.length>1?n("div",{staticClass:"right-ctrl app-pdb-16 app-bgc-ffffff"},[n("div",{staticClass:"param-list app-pdb-16 app-mga-24"},[n("YhcAlignment",{attrs:{type:"multiple"},on:{tapItem:t.setAlignment}})],1)]):t._e()],1)},a=[],r=n("febe"),o=(n("e186"),n("5a05"),n("89a8"),n("0560"),n("8ea3"),n("4c1e"),n("fee8"),n("87d5"),n("b110"),n("fe35"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"YhcHeader component app-fx-fsbc app-pdr-24 app-pdl-24"},[n("div",{staticClass:"app-fx-ffsc app-fx-1 app-h-100per"},[n("img",{staticClass:"app-w-100",attrs:{src:"./images/888.png"}}),t._l(t.navList,(function(e,i){return n("div",{key:i,staticClass:"app-fz-20 app-mgl-40 app-pdb-8 app-cur-pt",class:[e===t.activeNavItem?"on":""],on:{click:function(n){return t.changeNav(e,i)}}},[t._v(" "+t._s(e)+" ")])}))],2),n("div",{staticClass:"app-fx-1 app-h-100per app-fz-12"},[t._t("center")],2),n("div",{staticClass:"right app-fx-ffec app-fx-1"},[n("img",{staticClass:"app-w-40 app-h-40",attrs:{src:"./images/889.png"}}),n("el-dropdown",{on:{command:t.handleCommand}},[n("div",{staticClass:"user-name app-fz-20 app-pdr-16 app-pdl-16 app-cur-pt"},[t._v(" 萤火虫 ")]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"个人中心"}},[t._v("个人中心")]),n("el-dropdown-item",{attrs:{command:"清除全部缓存"}},[t._v("清除全部缓存")]),n("el-dropdown-item",{attrs:{command:"退出登录"}},[t._v("退出登录")])],1)],1)],1)])}),c=[],l=n("de72"),s=n("b706"),p=n("5660"),u={name:"YhcHeader",components:{},mixins:[],data:function(){return{activeNavItem:null}},props:{navList:{type:Array,default:function(){return["占位","占位","占位"]}},title:{type:String,default:"标题占位"},value:{type:String}},computed:{},watch:{},methods:{handleCommand:function(t){this.$message("点击了 "+t),"清除全部缓存"===t&&(l["a"].remove(),s["a"].remove(),p["a"].remove(),window.location.reload())},changeNav:function(t,e){this.activeNavItem=t,this.$emit("changeNav",t,e)}},beforeCreate:function(){},created:function(){this.activeNavItem=this.value||this.navList[0]},mounted:function(){}},d=u,m=(n("fa03"),n("cba8")),f=Object(m["a"])(d,o,c,!1,null,"56495867",null),h=f.exports,g=n("16a8"),v=n("468f"),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"YhcAlignment"},[n("div",{staticClass:"app-mgb-16 app-fx-fcc app-fx-wrap app-fzc-735a4b"},[n("div",{staticClass:"app-fz-14 app-w-100per app-mgb-8"},[t._v("水平对齐方式")]),n("div",{staticClass:"app-w-100per"},[n("i",{staticClass:"app-fz-26 app-mgr-16 app-cur-pt iconfont iconduiqi",on:{click:function(e){return t.tapItem("HL")}}}),n("i",{staticClass:"app-fz-26 app-mgr-16 app-cur-pt iconfont iconjuzhongduiqi",on:{click:function(e){return t.tapItem("HC")}}}),n("i",{staticClass:"app-fz-26 app-mgr-16 app-cur-pt iconfont iconalign-right",on:{click:function(e){return t.tapItem("HR")}}})])]),n("div",{staticClass:"app-mgb-16 app-fx-fcc app-fx-wrap app-fzc-735a4b"},[n("div",{staticClass:"app-fz-14 app-w-100per app-mgb-8"},[t._v("垂直对齐方式")]),n("div",{staticClass:"app-w-100per"},[n("i",{staticClass:"app-fz-26 app-mgr-16 app-cur-pt iconfont iconalign-top",on:{click:function(e){return t.tapItem("VT")}}}),n("i",{staticClass:"app-fz-26 app-mgr-16 app-cur-pt iconfont iconjuzhongduiqi1",on:{click:function(e){return t.tapItem("VC")}}}),n("i",{staticClass:"app-fz-26 app-mgr-16 app-cur-pt iconfont iconalign-bottom",on:{click:function(e){return t.tapItem("VB")}}})])])])},y=[],I=(n("2788"),n("b40e")),C={name:"YhcAlignment",props:{type:{type:String,default:"single",validator:function(t){var e=["single","multiple"];return e.includes(t)}}},data:function(){return{}},created:function(){},methods:{tapItem:function(t){Object(I["d"])(t)&&this.$emit("tapItem",t,this.type)}}},w=C,x=(n("f6d0"),Object(m["a"])(w,b,y,!1,null,"11851537",null)),L=x.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"YhcProjectNav app-fx-ffsc app-w-100per app-h-50"},t._l(t.navList,(function(e,i){return n("div",{key:"nav-"+i,staticClass:"item app-fx-fcc app-h-100per app-fz-16 app-cur-pt",class:t.value===e?"on":"",on:{click:function(n){return t.tapItem(e)}}},[t._v(" "+t._s(e)+" ")])})),0)},M=[],k={name:"YhcProjectNav",props:{navList:{type:Array,default:function(){return[]}},value:{type:String,default:""}},data:function(){return{}},created:function(){},methods:{tapItem:function(t){this.$emit("tapItem",t)}}},S=k,N=(n("06f0"),Object(m["a"])(S,j,M,!1,null,"50874eba",null)),A=N.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"YhcWidgetLineMark"},[t._l(t.list0,(function(e,i){return n("div",{key:i+"hover",staticClass:"hover-widget-common-style app-bgc-28d5ec",style:t.helpLinePositionModel.hover[e]})})),t._l(t.list0,(function(e,i){return n("div",{key:i+"active",staticClass:"active-widget-common-style app-bgc-ff3e6f",style:t.helpLinePositionModel.active[e]})})),t._l(t.list0,(function(e,i){return n("div",{key:i+"distant",staticClass:"active-widget-common-style distant-line app-bgc-ff3e6f",style:t.helpLinePositionModel.distant[e]},[n("span",{staticClass:"app-bgc-ff3e6f app-fzc-ffffff app-fz-12 app-pdt-4 app-pdr-8 app-pdb-4 app-pdl-8"},[t._v(t._s(t.helpLinePositionModel.distantChild[e].innerText))])])})),n("div",{directives:[{name:"zoomPoint",rawName:"v-zoomPoint"}],staticClass:"point-box"},t._l(t.list1,(function(e,i){return n("div",{key:i+"point",staticClass:"point-item app-cur-pt app-bgc-ffffff app-bda-1-s-be8c4b app-bdrdu-50per",style:t.ponitList[e],attrs:{id:e}})})),0),n("div",{directives:[{name:"dragItem",rawName:"v-dragItem"}],staticClass:"drag-box",style:t.helpLineDrag},[n("img",{directives:[{name:"rotate",rawName:"v-rotate"}],staticClass:"app-w-32 app-h-32",attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSItNzE5MyA0MjM2IDQ0IDQ0Ij4KICA8ZGVmcz4KICAgIDxzdHlsZT4KICAgICAgLmNscy0xIHsKICAgICAgICBmaWxsOiAjM2EzYTNhOwogICAgICB9CgogICAgICAuY2xzLTIgewogICAgICAgIGZpbGw6ICNmZmY7CiAgICAgIH0KCiAgICAgIC5jbHMtMyB7CiAgICAgICAgZmlsdGVyOiB1cmwoI2VsbGlwc2UtMTQpOwogICAgICB9CiAgICA8L3N0eWxlPgogICAgPGZpbHRlciBpZD0iZWxsaXBzZS0xNCIgeD0iLTcxOTMiIHk9IjQyMzYiIHdpZHRoPSI0NCIgaGVpZ2h0PSI0NCIgZmlsdGVyVW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgPGZlT2Zmc2V0IGR5PSIzIiBpbnB1dD0iU291cmNlQWxwaGEiLz4KICAgICAgPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMyIgcmVzdWx0PSJibHVyIi8+CiAgICAgIDxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAuMTYxIi8+CiAgICAgIDxmZUNvbXBvc2l0ZSBvcGVyYXRvcj0iaW4iIGluMj0iYmx1ciIvPgogICAgICA8ZmVDb21wb3NpdGUgaW49IlNvdXJjZUdyYXBoaWMiLz4KICAgIDwvZmlsdGVyPgogIDwvZGVmcz4KICA8ZyBpZD0iR3JvdXBfMTY4IiBkYXRhLW5hbWU9Ikdyb3VwIDE2OCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTgwNzMgNDAwOCkiPgogICAgPGcgY2xhc3M9ImNscy0zIiB0cmFuc2Zvcm09Im1hdHJpeCgxLCAwLCAwLCAxLCA4MDczLCAtNDAwOCkiPgogICAgICA8Y2lyY2xlIGlkPSJlbGxpcHNlLTE0LTIiIGRhdGEtbmFtZT0iZWxsaXBzZS0xNCIgY2xhc3M9ImNscy0xIiBjeD0iMTMiIGN5PSIxMyIgcj0iMTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03MTg0IDQyNDIpIi8+CiAgICA8L2c+CiAgICA8ZyBpZD0iZ3JvdXAtMTMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDg5NS40OTIgMjQwLjMwNikiPgogICAgICA8ZyBpZD0iZ3JvdXAiPgogICAgICAgIDxwYXRoIGlkPSJwYXRoIiBjbGFzcz0iY2xzLTIiIGQ9Ik0xMi44Myw4Ljg2N2E2LjYxNSw2LjYxNSwwLDEsMS0xLjc4NC03LjE2aDBMMTIuMzM3LjQxM2MuMjMtLjIzLjQxNi0uMTUzLjQxNS4xNzNMMTIuNzM5LDMuODZhLjYuNiwwLDAsMS0uNTkyLjU5MmwtMy4yNTYuMDA2Yy0uMzI2LDAtLjQtLjE4Ni0uMTczLS40MTZsMS4zMjctMS4zMjhBNS4xOTUsNS4xOTUsMCwxLDAsMTEuNSw4LjM2N2guMDA2YS43MDkuNzA5LDAsMSwxLDEuMzIxLjVaIi8+CiAgICAgIDwvZz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="}})])],2)},T=[],E=(n("d3af"),n("47fb"));function _(t,e){var n=t.x,i=t.y,a=t.width,r=t.height,o=t.scale,c={x:0,y:0},l=o.x-1,s=o.y-1,p=a*l,u=r*s,d=a+p,m=r+u,f=n-p/2,h=i-u/2;if(e){var g=[{x:n,y:i},{x:n+a,y:i},{x:n+a,y:i+r},{x:n,y:i+r}],v=[{x:f,y:h},{x:f+d,y:h},{x:f+d,y:h+m},{x:f,y:h+m}];c.x=g[e].x-v[e].x,c.y=g[e].y-v[e].y}return{x:f+c.x,y:h+c.y,width:d,height:m}}var z=_;function W(t,e,n,i){var a=z({x:t.x,y:t.y,width:t.width,height:t.height,scale:e}),r=Object(E["a"])(a,t.rotate),o=n.point[i].x-r.point[i].x+r.left,c=n.point[i].y-r.point[i].y+r.top,l=o+r.width/2-a.width/2,s=c+r.height/2-a.height/2,p=a.width,u=a.height;return{x:l,y:s,width:p,height:u}}var Y=W;n("1a91"),n("acc0");function P(t,e,n){var i={},a={},r=1e3,o=0,c=0;return t.forEach((function(l,s){var p=Math.sqrt(Math.pow(l.x-e,2)+Math.pow(l.y-n,2));if(p<r){a=l,o=s,r=p;var u=4,d=s-u;d<0&&(d=s+u),i=t.slice(d,d+1)[0],c=d}})),{current:{index:o,point:a},opposite:{index:c,point:i}}}var V=P;function D(t){return["TL","TC","TR","CL","CR","BL","BC","BR"].includes(t)}var R={bind:function(t,e,n){function i(t){var e=t.target.id,i=D(e);if(i){t&&t.stopPropagation();var a=n.context.$parent.currItem,r=n.context.$parent.currColItemEl,o=r.getBoundingClientRect(),c=document.scrollTop||document.documentElement.scrollTop,s=document.scrollLeft||document.documentElement.scrollLeft;if(null!=a&&null!=r){var p=a.style,u=p.x,d=p.y,m=p.width,f=p.height,h=p.rotate,g=l["a"].get(),v=100/g.sizeValue,b=(t.pageX-o.x-s)*v,y=(t.pageY-o.y-c)*v,I=Object(E["a"])({x:1*u,y:1*d,width:1*m,height:1*f},1*h),C=I.point,w=V(C,b,y),x=w.opposite,L=x.index,j=x.point.x,M=x.point.y,k=Math.abs(b-j),S=Math.abs(y-M),N={x:1*u,y:1*d,width:1*m,height:1*f,rotate:1*h};document.addEventListener("mousemove",A),document.addEventListener("mouseup",O)}}function A(t){t&&t.preventDefault();var e=(t.pageX-o.x-s)*v,i=(t.pageY-o.y-c)*v,r={x:1,y:1},l=1;l=k>S?Math.abs(e-j)/k:Math.abs(i-M)/S,[0,2,4,6].indexOf(L)>=0?r.x=r.y=l:[1,5].indexOf(L)>=0?r.y=l:[3,7].indexOf(L)>=0&&(r.x=l);var u=Y(N,r,I,L);p.x=u.x.toFixed(),p.y=u.y.toFixed(),p.width=u.width.toFixed(),p.height=u.height.toFixed(),n.context.$parent.setCurrItem(a.uid,"fromWatch")}function O(){document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",O)}}t.addEventListener("mousedown",i),t.$destroy=function(){return t.removeEventListener("mousedown",i)}},unbind:function(t){t.$destroy()}};function B(t){return{x:t.offsetLeft+t.offsetWidth/2,y:t.offsetTop+t.offsetHeight/2}}var H=B;function Z(t){return t/180*Math.PI}var U=Z,G={bind:function(t,e,n){function i(t){return t.preventDefault(),!1}function a(t){var e=n.context.$parent.currItem,a=n.context.$parent.currItemEl,r=n.context.$parent.currColItemEl,o=H(a),c=document.scrollTop||document.documentElement.scrollTop,s=document.scrollLeft||document.documentElement.scrollLeft,p=r.getBoundingClientRect(),u=l["a"].get(),d=u.sizeValue/100;o.y=o.y*d,o.x=o.x*d,o.y=o.y+p.top+c,o.x=o.x+p.left+s;var m=U(e.style.rotate),f=Math.atan2(t.pageY-o.y,t.pageX-o.x),h=f-m;function g(t){var n=Math.atan2(t.pageY-o.y,t.pageX-o.x),i=Math.floor(180*(n-h)/Math.PI);e.style.rotate=i}function v(t){document.removeEventListener("mousemove",g,!1),document.removeEventListener("mouseup",v,!1),document.removeEventListener("dragstart",i,!1)}document.addEventListener("mousemove",g,!1),document.addEventListener("mouseup",v,!1)}t.addEventListener("mousedown",a,!1),t.addEventListener("dragstart",i,!1),t.$destroy=function(){return t.removeEventListener("mousedown",a)}},unbind:function(t){t.$destroy()}},X=function(){function t(t){return Math.floor(t)===t}function e(e){var n={times:1,num:0},i=e<0;if(t(e))return n.num=e,n;var a=e+"",r=a.indexOf("."),o=a.substr(r+1).length,c=Math.pow(10,o),l=parseInt(Math.abs(e)*c+.5+"",10);return n.times=c,i&&(l=-l),n.num=l,n}function n(t,n,i){var a=e(t),r=e(n),o=a.num,c=r.num,l=a.times,s=r.times,p=l>s?l:s,u=null;switch(i){case"add":return u=l===s?o+c:l>s?o+c*(l/s):o*(s/l)+c,u/p;case"subtract":return u=l===s?o-c:l>s?o-c*(l/s):o*(s/l)-c,u/p;case"multiply":return u=o*c/(l*s),u;case"divide":return u=o/c*(s/l),u}}function i(t,e){return n(t,e,"add")}function a(t,e){return n(t,e,"subtract")}function r(t,e){return n(t,e,"multiply")}function o(t,e){return n(t,e,"divide")}return{add:i,subtract:a,multiply:r,divide:o}}(),J=X,K=n("bba5"),F={bind:function(t,e,n){function i(t){if("IMG"!==t.srcElement.tagName){t.stopPropagation();var e,i,a,r=t.pageX,o=t.pageY;new Date;window.addEventListener("mousemove",c,!1),window.addEventListener("mouseup",s,!1)}function c(t){t.stopPropagation(),t.preventDefault();var c=n.context.$parent.currItem;if(null!=c){a=c.style;var s=l["a"].get(),p=100/s.sizeValue;e=(t.pageX-r)*p,i=(t.pageY-o)*p,r=t.pageX,o=t.pageY,a.x=J.add(Object(K["f"])(a.x),e).toFixed(),a.y=J.add(Object(K["f"])(a.y),i).toFixed(),n.context.$parent.setCurrItem(c.uid,"fromWatch")}}function s(t){t.stopPropagation(),window.removeEventListener("mousemove",c),window.removeEventListener("mouseup",s)}}t.addEventListener("mousedown",i,!1),t.$destroy=function(){return t.removeEventListener("mousedown",i)}},unbind:function(t){t.$destroy()}},Q={name:"YhcWidgetLineMark",data:function(){return{list0:["top","right","bottom","left"],list1:["TL","TC","TR","CL","CR","BL","BC","BR"]}},computed:{helpLinePositionModel:function(){return this.$store.state.lineMark.helpLinePositionModel},ponitList:function(){return this.$store.state.lineMark.ponitList},helpLineDrag:function(){return this.$store.state.lineMark.helpLineDrag}},directives:{dragItem:F,zoomPoint:R,rotate:G},mounted:function(){}},q=Q,tt=(n("1ebd0"),Object(m["a"])(q,O,T,!1,null,"74caff6d",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"YhcLabelInput"},[n("div",{staticClass:"page-ctrl-input-box"},[t.popover?n("YhcPopoverLabel",{attrs:{popover:t.popover,label:t.label}}):n("div",{staticClass:"label"},[t._v(t._s(t.label))]),n("el-input",{attrs:{type:t.type,rows:t.rows,disabled:t.onlyRead,placeholder:t.placeholder},on:{input:t.input},model:{value:t.currValue,callback:function(e){t.currValue=e},expression:"currValue"}})],1)])},it=[],at=(n("51b3"),{props:{label:{type:String},value:{type:[String,Boolean,Number,Object]},index:{type:[Number,String]},targetKey:{type:String}}}),rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"YhcPopoverLabel"},[n("el-popover",{attrs:{placement:"left",width:"200",trigger:"hover"}},[n("div",{staticStyle:{color:"#ff0000","font-size":"14px","margin-bottom":"8px","font-weight":"bold"}},[t._v(" "+t._s(t.popover.title)+" ")]),n("div",[t._v(t._s(t.popover.message))]),n("div",{staticClass:"label",attrs:{slot:"reference"},slot:"reference"},[t._v(" "+t._s(t.label)+" "),n("i",{class:["iconfont",t.popover.iconClassName,"app-mgl-8"]})])])],1)},ot=[],ct="YhcPopoverLabel",lt={name:ct,props:{popover:{type:Object,default:function(){return null}},label:{type:String,default:""}}},st=lt,pt=(n("80eb"),Object(m["a"])(st,rt,ot,!1,null,"102f21a2",null)),ut=pt.exports;n("d1ba");function dt(t){if(t+="",!t)return"";var e=t.substr(0,1),n=t.substr(1,1);return t=t.replace(/[^\d.]/g,""),t=t.replace(/^\./g,""),t=t.replace(/\.{2,}/g,"."),t=t.replace(".","$#$").replace(/\./g,"").replace("$#$","."),t=t.replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),"-"==e&&(t*=-1),"0"==e&&"."!=n&&(t*=1),-0===t&&(t=0),t}var mt="YhcLabelInput",ft={name:mt,mixins:[at],components:{YhcPopoverLabel:ut},props:{placeholder:{type:String},type:{type:String,default:"text"},rows:{type:[Number,String],default:4},onlyRead:{type:Boolean,default:!1},onlyReadShowData:{type:[Number,String]},isMoneyData:{type:Boolean,default:!1},popover:{type:Object,default:function(){return null}}},data:function(){return{currValue:this.value}},watch:{value:function(t,e){this.currValue=t,this.onlyRead&&(this.currValue=this.onlyReadShowData||t)},onlyReadShowData:function(t){this.currValue=t}},mounted:function(){var t=this;this.$nextTick((function(){t.onlyRead&&(t.currValue=t.onlyReadShowData||t.value)}))},methods:{input:function(){this.isMoneyData&&(this.currValue=dt(this.currValue)),this.$emit("propItemChange",this.targetKey,this.currValue,this.index),this.$emit("input",this.currValue,this.index)}}},ht=ft,gt=(n("cebf"),Object(m["a"])(ht,nt,it,!1,null,"44e75afe",null)),vt=gt.exports,bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"YhcLabelSelect"},[n("div",{staticClass:"page-ctrl-input-box"},[n("div",{staticClass:"label"},[t._v(t._s(t.label))]),n("el-select",{attrs:{placeholder:t.placeholder},on:{change:t.change},model:{value:t.currValue,callback:function(e){t.currValue=e},expression:"currValue"}},t._l(t.selectOption,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1)])},yt=[],It="YhcLabelSelect",Ct={name:It,mixins:[at],props:{placeholder:{type:String},onlyRead:{type:Boolean,default:!1},onlyReadShowData:{type:[Number,String]},selectOption:{type:Array,default:function(){return[]}}},data:function(){return{currValue:this.value}},watch:{value:function(t,e){this.currValue=t,this.onlyRead&&(this.currValue=this.onlyReadShowData||t)},onlyReadShowData:function(t){this.currValue=t}},created:function(){},mounted:function(){var t=this;this.$nextTick((function(){t.onlyRead&&(t.currValue=t.onlyReadShowData||t.value)}))},methods:{change:function(){this.$emit("propItemChange",this.targetKey,this.currValue,this.index),this.$emit("input",this.currValue,this.index)}}},wt=Ct,xt=(n("e42f"),Object(m["a"])(wt,bt,yt,!1,null,"cd71e36e",null)),Lt=xt.exports,jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"YhcLabelColorPicker"},[n("div",{staticClass:"page-ctrl-input-box"},[t.popover?n("YhcPopoverLabel",{attrs:{popover:t.popover,label:t.label}}):n("div",{staticClass:"label"},[t._v(t._s(t.label))]),n("el-color-picker",{attrs:{predefine:t.predefineColors},on:{change:t.change},model:{value:t.currValue,callback:function(e){t.currValue=e},expression:"currValue"}})],1)])},Mt=[],kt="YhcLabelColorPicker",St={name:kt,mixins:[at],components:{YhcPopoverLabel:ut},props:{popover:{type:Object,default:function(){return null}}},data:function(){return{currValue:this.value,predefineColors:["#ff4500","#ff8c00","#ffd700","#90ee90","#00ced1","#1e90ff","#c71585"]}},watch:{value:function(t,e){this.currValue=t}},methods:{change:function(){this.$emit("input",this.currValue),this.$emit("propItemChange",this.targetKey,this.currValue,this.index)}}},Nt=St,At=(n("34d5"),Object(m["a"])(Nt,jt,Mt,!1,null,"18b93542",null)),Ot=At.exports,Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"YhcLabelSwitch"},[n("div",{staticClass:"app-mgt-8"},[n("el-switch",{attrs:{"active-text":t.label,"active-color":"#226087"},on:{change:t.change},model:{value:t.currValue,callback:function(e){t.currValue=e},expression:"currValue"}})],1)])},Et=[],_t="YhcLabelSwitch",zt={name:_t,mixins:[at],props:{},data:function(){return{currValue:this.value}},watch:{value:function(t,e){this.currValue=t}},methods:{change:function(t){this.$emit("propItemChange",this.targetKey,t,this.index)}}},Wt=zt,$t=(n("fdd5"),Object(m["a"])(Wt,Tt,Et,!1,null,"7b381546",null)),Yt=$t.exports,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"YhcLabelUpload"},["img"===t.componentMode?n("div",{staticClass:"label app-mgt-8"},[t._v(" "+t._s(t.label)+" ")]):t._e(),n("el-upload",{class:["app-mgt-8","img"===t.componentMode?"img-mode":""],attrs:{action:"","auto-upload":t.elUploadModel.autoUpload,"show-file-list":t.elUploadModel.showFileList,"on-change":t.elOnChange,accept:t.elUploadModel.accept}},["button"===t.componentMode?n("el-button",{attrs:{type:"primary"},on:{click:t.setUploadAccept}},[t._v(t._s(t.label))]):t._e(),"img"===t.componentMode?n("div",[t.value?n("img",{staticClass:"preview",attrs:{src:t.value}}):n("i",{staticClass:"el-icon-plus img-mode-icon"})]):t._e()],1)],1)},Vt=[];n("10dd"),n("7216"),n("609b"),n("bbe2"),n("87bf"),n("cea3"),n("6370"),n("d5ee"),n("1926");function Dt(t){if(!t)return!1;var e=["gif","jpeg","jpg","bmp","png"],n=["avi","wmv","mkv","mp4","mov","rm","3gp","flv","mpg","rmvb"],i=["mp3","wav"],a=["pdf","psd"],r=["doc","dot","docx","dotx","xls","xlsx","xlsb","ppt","pptx"];return RegExp(".("+e.join("|")+")$","i").test(t.toLowerCase())?"Image":RegExp(".("+n.join("|")+")$","i").test(t.toLowerCase())?"Video":RegExp(".("+i.join("|")+")$","i").test(t.toLowerCase())?"Audio":RegExp(".("+a.join("|")+")$","i").test(t.toLowerCase())?"Adobe":RegExp(".("+r.join("|")+")$","i").test(t.toLowerCase())?"Office":""}for(var Rt="YhcLabelUpload",Bt={name:Rt,mixins:[at],props:{fileType:{type:String,default:"Image"},uploadAccept:{type:String,default:"audio/*,video/*,image/*"},componentMode:{type:String,default:"button"}},data:function(){return{elUploadModel:{autoUpload:!1,showFileList:!1,accept:"audio/*,video/*,image/*"}}},methods:{setUploadAccept:function(){var t=this.uploadAccept;switch(t){case"Image":this.elUploadModel.accept="image/*";break;default:break}},elOnChange:function(t,e){var n=Dt(t.raw.name);if(n===this.fileType){var i=window.URL.createObjectURL(new Blob([t.raw]));this.$emit("input",i),this.$emit("propItemChange",this.targetKey,i,this.index)}else this.appShowMessageError("文件类型错误")}}},Ht=Bt,Zt=(n("5afe"),Object(m["a"])(Ht,Pt,Vt,!1,null,"b990c096",null)),Ut=Zt.exports,Gt=n("e902"),Xt=n("a018"),Jt=Object(Gt["a"])((function t(e){Object(Xt["a"])(this,t),this.type=e.type||"Image",this.mediaUrl=e.mediaUrl||"",this.frameUrl=e.frameUrl||""})),Kt=[],Ft=30;Ft<=100;Ft+=10)Kt.push({label:Ft+"%",value:Ft});var Qt=Object(Gt["a"])((function t(e){Object(Xt["a"])(this,t),this.name=e.name||"",this.width=e.width||1920,this.height=e.height||1080,this.layoutColor=e.layoutColor||"#ffffff",this.noteMsg=e.noteMsg||"",this.sizeOptions=e.sizeOptions||Kt,this.sizeValue=e.sizeValue||100,this.cover=new Jt(e.cover),this.pageList=e.pageList||[]}));function qt(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+ +new Date+t()}var te=Object(Gt["a"])((function t(e){Object(Xt["a"])(this,t)})),ee=Object(Gt["a"])((function t(e){Object(Xt["a"])(this,t),this.innerHTML=e.innerHTML||""})),ne=Object(Gt["a"])((function t(e){Object(Xt["a"])(this,t),this.x=e.x||"0",this.y=e.y||"0",this.width=e.width||"100",this.height=e.height||"100",this.zIndex=e.zIndex||"101",this.color=e.color||"#333333",this.backgroundColor=e.backgroundColor||"#226087",this.fontSize=e.fontSize||"64",this.fontWeight=e.fontWeight||"500",this.borderRadius=e.borderRadius||"0",this.opacity=e.opacity||"100",this.borderWidth=e.borderWidth||"0",this.borderStyle=e.borderStyle||"none",this.borderColor=e.borderColor||"#ffffff",this.display=e.display||"flex",this.justifyContent=e.justifyContent||"center",this.alignItems=e.alignItems||"center",this.rotate=e.rotate||0})),ie=Object(Gt["a"])((function t(e){Object(Xt["a"])(this,t)})),ae=Object(Gt["a"])((function t(e){Object(Xt["a"])(this,t),this.type=e.type||"",this.tag=e.tag||"",this.classify=Object(I["a"])(e.classify)||"base",this.uid=qt(),this.class=e.class||[],this.attrs=new ie(e),this.props=new te(e),this.domProps=new ee(e),this.style=new ne(e)})),re=(n("8fec"),Object(Gt["a"])((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(Xt["a"])(this,t),!Array.isArray(e.children)||0==e.children.length)throw Error("children is empty");this.type=Object(I["a"])("container"),this.uid=qt(),this.height=e.heigth||300,this.children=e.children||[],this.classify=Object(I["a"])("container")}))),oe=Object(Gt["a"])((function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(Xt["a"])(this,t);var n=Object(I["f"])(e.type);if(!n)throw Error("error colmd type, read projectData.js baseContainerList data");this.type=n,this.uid=qt(),this.children=[],this.classify=Object(I["a"])("colmd")})),ce=n("7c98"),le=n("5a32"),se=n("5019"),pe=n.n(se);n("16ad"),Number(document.documentMode);var ue=n("1035");function de(t){return new Promise((function(e,n){var i=document.createElement("script");i.src=t,i.onload=i.onreadystatechange=function(){this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(e(),this.onload=this.onreadystatechange=null,this.parentNode.removeChild(this))},document.getElementsByTagName("head")[0].appendChild(i)}))}function me(t){if(Object(ce["isArray"])(t)||(t=[t]),1===t.length){var e=t[0].getBoundingClientRect();return e.width||(e.width=e.right-e.left),e.height||(e.height=e.bottom-e.top),e}for(var n={top:999999,right:0,bottom:0,left:999999,width:0,height:0},i=0;i<t.length;i++){var a=t[i],r=a.getBoundingClientRect();r.top<n.top&&(n.top=r.top),r.right>n.right&&(n.right=r.right),r.bottom>n.bottom&&(n.bottom=r.bottom),r.left<n.left&&(n.left=r.left)}return n.width=n.right-n.left,n.height=n.bottom-n.top,n}var fe=me;var he=[{value:"none",label:"无"},{value:"solid",label:"实线"},{value:"dotted",label:"点线"},{value:"double",label:"双线"},{value:"dashed",label:"虚线"}],ge=[{value:"300",label:"细体"},{value:"500",label:"正常"},{value:"700",label:"粗体"}],ve=[{icon:"iconfenlie1",label:"1列",type:"col-md-12",classify:"colmd"},{icon:"iconfenlie1",label:"2列",type:"col-md-6",classify:"colmd"},{icon:"iconfenlie1",label:"3列",type:"col-md-4",classify:"colmd"},{icon:"iconfenlie1",label:"4列",type:"col-md-3",classify:"colmd"},{icon:"iconfenlie1",label:"6列",type:"col-md-2",classify:"colmd"},{icon:"",label:"",type:"",classify:""},{icon:"",label:"",type:"",classify:""},{icon:"",label:"",type:"",classify:""}],be=[{icon:"icontext_tool",label:"文本",type:"Text",classify:"base"},{icon:"icontupian",label:"图片",type:"Image",classify:"base"},{icon:"iconfangkuai",label:"形状",type:"Block",classify:"base"},{icon:"iconanniu",label:"按钮",type:"Button",classify:"base"},{icon:"iconjiantou_liebiaoxiangyou_o",label:"箭头",type:"Icon",classify:"base"},{icon:"",label:"",type:"",classify:""},{icon:"",label:"",type:"",classify:""},{icon:"",label:"",type:"",classify:""}],ye=[{icon:"",label:"",type:"",classify:""},{icon:"",label:"",type:"",classify:""},{icon:"",label:"",type:"",classify:""},{icon:"",label:"",type:"",classify:""}],Ie=n("045d"),Ce=(n("b3d9"),Object(Gt["a"])((function t(e){Object(Xt["a"])(this,t),this.title=e.title,this.message=e.message,this.iconClassName=e.iconClassName}))),we=Object(Gt["a"])((function t(e){Object(Xt["a"])(this,t),this.key=e.key,this.label=e.label,this.componentName=e.componentName,this.inputType=e.inputType,this.selectOption=e.selectOption,this.fileType=e.fileType,this.popover=e.popover&&new Ce(e.popover)}));function xe(){return[new we({key:"style.x",label:"组件X值",componentName:"LabelInput",inputType:"number"}),new we({key:"style.y",label:"组件Y值",componentName:"LabelInput",inputType:"number"}),new we({key:"style.zIndex",label:"层级",componentName:"LabelInput",inputType:"number",popover:{title:"提示",message:"导出图片时，同层级文字会被同层级图形覆盖",iconClassName:"iconyiwen2"}}),new we({key:"style.opacity",label:"透明度",componentName:"LabelInput",inputType:"number"}),new we({key:"style.rotate",label:"旋转",componentName:"LabelInput",inputType:"number"})]}function Le(){return[new we({key:"style.fontSize",label:"字号",componentName:"LabelInput",inputType:"number"}),new we({key:"style.fontWeight",label:"字重",componentName:"LabelSelect",selectOption:ge})]}function je(){return[new we({key:"style.borderWidth",label:"边框粗细",componentName:"LabelInput",inputType:"number"}),new we({key:"style.borderStyle",label:"边框类型",componentName:"LabelSelect",selectOption:he}),new we({key:"style.borderColor",label:"边框颜色",componentName:"LabelColorPicker"}),new we({key:"style.borderRadius",label:"圆角",componentName:"LabelInput",inputType:"number"})]}function Me(){return[new we({key:"style.color",label:"文本颜色",componentName:"LabelColorPicker"})]}function ke(){return[new we({key:"style.width",label:"宽度",componentName:"LabelInput",inputType:"number"}),new we({key:"style.height",label:"高度",componentName:"LabelInput",inputType:"number"})]}function Se(){return[new we({key:"style.backgroundColor",label:"背景颜色",componentName:"LabelColorPicker",popover:{title:"提示",message:"选择时点击清空即可变成颜色透明",iconClassName:"iconyiwen2"}})]}var Ne={Text:function(){return[].concat(Object(Ie["a"])(Me()),Object(Ie["a"])(xe()),Object(Ie["a"])(Le()))},Icon:function(){return[].concat(Object(Ie["a"])(Me()),Object(Ie["a"])(xe()),Object(Ie["a"])(Le()))},Image:function(){return[].concat(Object(Ie["a"])(ke()),Object(Ie["a"])(xe()),Object(Ie["a"])(je()))},Block:function(){return[].concat(Object(Ie["a"])(Se()),Object(Ie["a"])(ke()),Object(Ie["a"])(xe()),Object(Ie["a"])(je()))},Button:function(){return[].concat(Object(Ie["a"])(Se()),Object(Ie["a"])(Me()),Object(Ie["a"])(ke()),Object(Ie["a"])(xe()),Object(Ie["a"])(Le()),Object(Ie["a"])(je()))}},Ae={Text:function(){var t=[new we({key:"domProps.innerHTML",label:"文本内容",componentName:"LabelInput",inputType:"textarea"})];return t},Icon:function(){var t=[];return t},Image:function(){var t=[new we({key:"attrs.src",label:"上传图片",componentName:"LabelUpload",fileType:"Image"})];return t},Block:function(){var t=[];return t},Button:function(){var t=[new we({key:"domProps.innerHTML",label:"文本内容",componentName:"LabelInput",inputType:"textarea"})];return t}};function Oe(t){var e=Ne[t.type]();return e}function Te(t){var e=Ae[t.type]();return e.push(new we({key:"props.noteMsg",label:"组件备注",componentName:"LabelInput",inputType:"textarea"})),e}function Ee(t){var e={class:{},domProps:{},attrs:{},style:{}};l["a"].get();switch(t){case"Text":e.tag="div",e.style.backgroundColor="transparent",e.style.width="auto",e.style.height="auto",e.domProps.innerHTML="内容";break;case"Image":e.tag="img",e.style.backgroundColor="transparent",e.style.color="transparent",e.attrs.src="./images/mock/1.jpg";break;case"Block":e.tag="div",e.style.width="200",e.style.height="200";break;case"Button":e.tag="div",e.style.width="200",e.style.height="80",e.style.fontSize="32",e.style.color="#ffffff",e.style.borderRadius="8",e.domProps.innerHTML="按钮";break;case"Icon":e.tag="i",e.style.backgroundColor="transparent",e.style.width="auto",e.style.height="auto";break;default:}return e}var _e="yingxing",ze={name:_e,components:Object.assign({},{YhcHeader:h,YhcProjectNav:A,YhcAlignment:L,YhcBaseWidgetContent:v["a"],YhcWorkContainer:g["a"],YhcWidgetLineMark:et,YhcLabelInput:vt,YhcLabelSelect:Lt,YhcLabelColorPicker:Ot,YhcLabelSwitch:Yt,YhcLabelUpload:Ut}),directives:{},data:function(){return{leftNavList:["概况","容器","组件"],leftNavActiveItem:"容器",rightNavList:["样式","参数"],rightNavActiveItem:"样式",componentList:[],baseContainerList:ve,baseWidgetList:be,vocationalWidgetList:ye,currItem:null,currItemEl:null,currItemMultiple:[],currItemElMultiple:[],currCopyItem:null,currContainer:null,currColItem:null,currColItemEl:null,canFieldList:[],canControlList:[],keyCodeStatus:{ctrl:!1},preColItemUid:null,projectInfo:Object(ce["merge"])(new Qt({name:(new Date).toLocaleString(),width:1920,height:1080,noteMsg:"",cover:{type:"Image",mediaUrl:"",frameUrl:""},pageList:[],layoutColor:"#ffffff",sizeOptions:null,sizeValue:30}),l["a"].get())}},computed:{workContainerStyle:function(){var t={100:0,90:5,80:12,70:22,60:32,50:50,40:75,30:111,20:200,10:460},e=t[this.projectInfo.sizeValue],n="translateX(-50%)";return n+=" scale(".concat(this.projectInfo.sizeValue/100,")"),n+=" translateY(-".concat(e,"%)"),{height:this.projectInfo.height+"px",width:this.projectInfo.width+"px",backgroundColor:this.projectInfo.layoutColor,transform:n,left:"50%"}}},destroyed:function(){window.removeEventListener("scroll",this.initScrollEvent)},created:function(){var t=this;this.initModel(),this.initKeyEvent(),window.addEventListener("scroll",this.initScrollEvent),this.componentList=le["a"].get()||[],setInterval((function(){le["a"].set(t.componentList)}),3e3)},mounted:function(){this.initScrollBarStyle(),document.ondragstart=function(){return!1}},methods:{initScrollEvent:function(){this.setHelpLine()},initScrollBarStyle:function(){},isSelectSingleWidget:function(){return 1==this.currItemMultiple.length&&null!=this.currItem},initKeyEvent:function(){var t=this;pe.a.bind("del",(function(e){e.preventDefault(),t.isSelectSingleWidget()&&t.delWidget()})),pe.a.bind("up",(function(e){if(e.preventDefault(),t.isSelectSingleWidget()){var n=+t.currItem.style.y-1;t.setPropItemValue("style.y",n)}})),pe.a.bind("right",(function(e){if(e.preventDefault(),t.isSelectSingleWidget()){var n=+t.currItem.style.x+1;t.setPropItemValue("style.x",n)}})),pe.a.bind("down",(function(e){if(e.preventDefault(),t.isSelectSingleWidget()){var n=+t.currItem.style.y+1;t.setPropItemValue("style.y",n)}})),pe.a.bind("left",(function(e){if(e.preventDefault(),t.isSelectSingleWidget()){var n=+t.currItem.style.x-1;t.setPropItemValue("style.x",n)}})),pe.a.bind(["command+c","ctrl+c"],(function(e){e.preventDefault(),t.isSelectSingleWidget()&&(t.currCopyItem=Object(ce["cloneDeep"])(t.currItem))})),pe.a.bind(["command+v","ctrl+v"],(function(e){e.preventDefault(),1==t.currItemMultiple.length&&null!==t.currCopyItem&&(t.keyCodeStatus.ctrl=!1,t.currCopyItem.uid=qt(),t.currCopyItem.style.x=+t.currCopyItem.style.x+10,t.currCopyItem.style.y=+t.currCopyItem.style.y+10,t.currCopyItem.style.zIndex=+t.currCopyItem.style.zIndex+1,t.addWidget(t.currCopyItem),t.currCopyItem=Object(ce["cloneDeep"])(t.currItem))})),document.addEventListener("keydown",(function(e){var n=17===e.which||17===e.keyCode;n&&(t.keyCodeStatus.ctrl=!0)})),document.addEventListener("keyup",(function(e){var n=17===e.which||17===e.keyCode;n&&(t.keyCodeStatus.ctrl=!1)}))},initModel:function(){l["a"].set(this.projectInfo)},preProjectInfoChange:function(t){this.projectInfoChange("sizeValue",t)},projectInfoChange:function(t,e,n){this.clearHelpLine(),this.projectInfo[t]=e,"sizeValue"!=t&&"height"!=t||this.initScrollBarStyle(),l["a"].set(this.projectInfo)},setPropItemValue:function(t,e){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.currItem;Object(ce["set"])(n,t,e)},getPropItemValue:function(t,e){return Object(ce["get"])(e,t,null)},mouseEnterWidget:function(t){var e=this.getWidgetElement(t),n=e.getBoundingClientRect();this.$store.commit("lineMark/setWidgetWrapLine",{rectInfo:n,type:"hover"})},mouseLeaveWidget:function(){this.$store.commit("lineMark/delWidgetWrapLine","hover")},clearHelpLine:function(){this.$store.commit("lineMark/delWidgetWrapLine","active"),this.$store.commit("lineMark/delWidgetWrapLine","hover"),this.$store.commit("lineMark/delDistantLayoutLineStyle"),this.$store.commit("lineMark/delCtrlPointStyle"),this.$store.commit("lineMark/delDragStyle")},setHelpLine:function(){var t=this;0!==this.currItemMultiple.length&&this.$nextTick((function(){var e=fe(t.currItemElMultiple),n=t.currColItemEl.getBoundingClientRect();if(t.$store.commit("lineMark/setDistantLayoutLineStyle",{rectInfo:e,context:n}),t.$store.commit("lineMark/setWidgetWrapLine",{rectInfo:e,type:"active"}),t.currItemElMultiple.length>1)t.$store.commit("lineMark/delCtrlPointStyle"),t.$store.commit("lineMark/delDragStyle");else{if(!t.currItem)return;var i=t.currItem.type,a=Object(I["g"])(i);if(a){var r=Object(ce["cloneDeep"])(t.currItem.style);return r.width=t.currItemEl.offsetWidth,r.height=t.currItemEl.offsetHeight,t.$store.commit("lineMark/setDragStyle",{styleInfo:r,currColItemElRect:n}),void t.$store.commit("lineMark/delCtrlPointStyle")}t.$store.commit("lineMark/setCtrlPointStyle",{styleInfo:t.currItem.style,currColItemElRect:n}),t.$store.commit("lineMark/setDragStyle",{styleInfo:t.currItem.style,currColItemElRect:n})}}))},clearActiceWidget:function(){this.currItemEl=null,this.currItem=null},clearActiceWidgetMultiple:function(){this.currItemMultiple=[],this.currItemElMultiple=[]},clearContainerAndColmd:function(){this.currColItem=null,this.currColItemEl=null,this.currContainer=null},tapLeftNavItem:function(t){this.leftNavActiveItem=t},tapRightNavItem:function(t){this.rightNavActiveItem=t},setShowUserParam:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currItem;this.canFieldList=Oe(t),this.canControlList=Te(t)},setAlignment:function(t,e){var n,i,a=this;"single"===e&&(n=fe(this.currColItemEl),i=0),"multiple"===e&&(n=fe(this.currItemElMultiple[this.currItemElMultiple.length-1]),i=1);var r=l["a"].get(),o=100/r.sizeValue,c="",s="";"HL"===t&&(c="x",s="left"),"HC"===t&&(c="x",s="left"),"HR"===t&&(c="x",s="right"),"VT"===t&&(c="y",s="top"),"VC"===t&&(c="y",s="top"),"VB"===t&&(c="y",s="bottom"),this.isInterceptSetCurr=!0;for(var p=0;p<this.currItemElMultiple.length-i;p++){var u=this.currItemElMultiple[p],d=fe(u),m=d[s]-n[s];if("HC"===t){var f=(d["width"]-n["width"])/2;m+=f}if("VC"===t){var h=(d["height"]-n["height"])/2;m+=h}var g=this.getPropItemValue("style.".concat(c),this.currItemMultiple[p]),v=g-m*o;this.setPropItemValue("style.".concat(c),v,0,this.currItemMultiple[p])}this.setHelpLine(),this.$nextTick((function(){a.isInterceptSetCurr=!1}))},addWidget:function(t){var e=this;this.currColItem&&(this.currColItem.children.push(t),this.$nextTick((function(){e.setCurrItem(t.uid,"create"),e.setAlignment("HC","single"),e.setAlignment("VC","single")})))},createWidget:function(t){if(this.currColItem){if(t.type){var e=new ae(t),n=Object(ce["merge"])(e,Ee(e.type));this.addWidget(n)}}else this.appShowMessageWarning("请先选择容器")},delWidget:function(){var t=this;null!==this.currItem&&(this.currColItem.children=this.currColItem.children.filter((function(e){return e.uid!==t.currItem.uid})),this.clearActiceWidget(),this.clearActiceWidgetMultiple(),this.clearHelpLine())},getWidgetElement:function(t){return this.$refs[t][0].$el.querySelector(".YhcBaseWidgetContent .item")},setCurrItem:function(t,e){if(!this.isInterceptSetCurr){var n=this.getWidgetElement(t);if(n&&t&&(e=Object(I["b"])(e)||"create",this.currColItem&&(this.preColItemUid=this.currColItem.uid),"create"!=e&&"fromWatch"!=e&&this.setCurrColItem(null,t,e),this.currColItem)){var i=this.currColItem.uid;if(this.resetCopyHandle(i),this.keyCodeStatus.ctrl){var a=this.currItemMultiple.some((function(e){return e.uid===t}));if(a)this.currItemMultiple=this.currItemMultiple.filter((function(e){return e.uid!==t})),this.currItemElMultiple=this.currItemElMultiple.filter((function(t){return t!==n}));else if(this.preColItemUid===i){var r=this.currColItem.children.find((function(e){return e.uid==t}));this.currItemMultiple.push(r),this.currItemElMultiple.push(n)}else this.$message({type:"warning",message:"只能在同一个容器内多选组件"}),this.clearActiceWidget(),this.clearHelpLine(),o.call(this);1===this.currItemMultiple.length?o.call(this):this.clearActiceWidget()}else o.call(this);this.$store.commit("lineMark/delWidgetWrapLine","hover"),this.setHelpLine()}}function o(){this.currItemMultiple=this.currColItem.children.filter((function(e){return e.uid===t})),this.currItemElMultiple=[n],this.currItem=this.currItemMultiple[0],this.currItemEl=this.currItemElMultiple[0],this.setShowUserParam()}},setCurrColItem:function(t,e,n){var i,a;t?(this.clearActiceWidget(),this.clearActiceWidgetMultiple(),this.clearHelpLine(),this.componentList.map((function(t){a||(a=Object(ue["a"])(t,{currItem:{uid:e}}))}))):this.componentList.map((function(t){a||(a=Object(ue["a"])(t,{currItem:{uid:e}})),t.children.map((function(t){i||(i=Object(ue["a"])(t,{currItem:{uid:e}}))}))})),this.currColItem=t||i,this.currColItemEl=document.getElementById("col-md-".concat(this.currColItem.uid)),this.currContainer=a,this.resetCopyHandle(this.currColItem.uid)},delColItem:function(){var t=this;this.$confirm("此操作将删除该容器以及容器下的所有组件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=t.currContainer.uid;t.componentList=t.componentList.filter((function(t){return t.uid!=e})),t.clearContainerAndColmd(),t.clearActiceWidget(),t.clearActiceWidgetMultiple(),t.clearHelpLine(),t.$message({type:"success",message:"删除成功!"})})).catch((function(){}))},createContainer:function(t){var e=t.type;if(e){for(var n=[],i=1*e.split("col-md-")[1],a={12:1,6:2,4:3,3:4,2:6},r=1*a[i],o=1;o<=r;o++)n.push(new oe({type:e}));this.componentList.push(new re({children:n,height:300}))}},resetCopyHandle:function(t){this.preColItemUid!==t&&(this.currCopyItem=null)},openNewWindow:function(){window.open("/#/yingxingPreview")},exportTelp:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window.saveAs){e.next=3;break}return e.next=3,t.downloadPluginJs();case 3:n=new Blob([JSON.stringify(t.componentList)],{type:""}),saveAs(n,"".concat(+new Date,".json"));case 5:case"end":return e.stop()}}),e)})))()},importTelp:function(t,e){var n=this;this.$confirm("导入模板会清空当前画布, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e=new FileReader;e.readAsText(t.raw,"UTF-8"),e.onload=function(t){n.componentList=JSON.parse(t.target.result),n.projectInfo.height=3300,n.clearHelpLine(),n.clearActiceWidget(),n.clearContainerAndColmd()}})).catch((function(){}))},clearWork:function(){var t=this;this.$confirm("清空当前画布, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.componentList=[],t.projectInfo.height=1080,t.clearHelpLine(),t.clearActiceWidget(),t.clearContainerAndColmd()})).catch((function(){}))},downloadPluginJs:function(){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([de("./js/jquery.min.js"),de("./js/html2canvas.min.js"),de("./js/FileSaver.min.js")]);case 2:case"end":return t.stop()}}),t)})))()},exportToImage:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(window.appShowLoading({text:"正在初始化插件"}),window.html2canvas){e.next=4;break}return e.next=4,t.downloadPluginJs();case 4:n=$("#work-container"),i=$("#work-wapper"),a=n.clone(),a.width(n.width()+"px"),a.height(n.height()+"px"),a.id="lyw",a.css({position:"absolute",top:"0px",height:n.height(),overflow:"visible",zIndex:"-99"}),$("body").append(a),setTimeout((function(){$("body").scrollTop(0),$("html").scrollTop(0),$(a).scrollTop(0),$(i).scrollTop(0),html2canvas(a[0],{useCORS:!0}).then((function(e){e.toBlob((function(e){saveAs(e,"".concat(+new Date,".png")),a.remove(),window.appHideLoading(),t.appShowMessageSuccess("导出成功")}))}))}),4);case 13:case"end":return e.stop()}}),e)})))()}}},We=ze,$e=(n("02d9"),Object(m["a"])(We,i,a,!1,null,"b0eff2f6",null));e["default"]=$e.exports},5660:function(t,e,n){"use strict";var i=n("94a7");e["a"]=new i["a"]("xTokenStorage")},5680:function(t,e,n){},"5afe":function(t,e,n){"use strict";n("e8d3")},"80eb":function(t,e,n){"use strict";n("c54f")},"94a7":function(t,e,n){"use strict";var i=n("a018"),a=n("e902"),r=(n("10dd"),n("87d5"),function(){function t(e){Object(i["a"])(this,t),this.name=e}return Object(a["a"])(t,[{key:"get",value:function(){var t=sessionStorage.getItem(this.name);return JSON.parse(t)}},{key:"set",value:function(t){return t=JSON.stringify(t),sessionStorage.setItem(this.name,t)}},{key:"remove",value:function(){return sessionStorage.removeItem(this.name)}}],[{key:"instance",value:function(t){return this.i=this.i||new this(t),this.i}}]),t}());e["a"]=r},"98b1":function(t,e,n){},b706:function(t,e,n){"use strict";var i=n("94a7"),a=new i["a"]("userInfoStorage");e["a"]=a},c503:function(t,e,n){},c54f:function(t,e,n){},c9bf:function(t,e,n){},cbec:function(t,e,n){},cebf:function(t,e,n){"use strict";n("f0f0")},debd:function(t,e,n){},e42f:function(t,e,n){"use strict";n("e588")},e588:function(t,e,n){},e8d3:function(t,e,n){},f0f0:function(t,e,n){},f6d0:function(t,e,n){"use strict";n("c9bf")},fa03:function(t,e,n){"use strict";n("5680")},fdd5:function(t,e,n){"use strict";n("98b1")}}]);